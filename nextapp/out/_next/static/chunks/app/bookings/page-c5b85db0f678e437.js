(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[407],{2664:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var n=s(5155),r=s(2115),a=s(2619),i=s.n(a),l=s(2708);function o(e,t){let s=new Date(e),n=new Date(t),r={hour:"2-digit",minute:"2-digit"};return"".concat(s.toLocaleTimeString("de-DE",r)," – ").concat(n.toLocaleTimeString("de-DE",r)," Uhr")}function d(){let{bookings:e,cancelBooking:t}=(0,l.dp)(),{upcoming:s,past:a}=(0,r.useMemo)(()=>{let t=new Date,s=[...e].sort((e,t)=>new Date(e.startDateTime).getTime()-new Date(t.startDateTime).getTime());return{upcoming:s.filter(e=>new Date(e.endDateTime)>=t),past:s.filter(e=>new Date(e.endDateTime)<t)}},[e]),d=(0,r.useMemo)(()=>s.reduce((e,t)=>{let s=new Date(t.startDateTime).toDateString();return e[s]||(e[s]=[]),e[s].push(t),e},{}),[s]),m=s.length>0||a.length>0;return(0,n.jsxs)("div",{className:"mx-auto flex w-full max-w-4xl flex-col gap-8 px-4 pb-10 pt-6 sm:px-6 sm:pt-8",children:[(0,n.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-slate-900 sm:text-3xl",children:"Buchungen verwalten"}),(0,n.jsx)("p",{className:"text-sm text-slate-600",children:"Behalte alle Reservierungen im Blick, storniere bei Bedarf und plane neue Anfragen."})]}),(0,n.jsxs)(i(),{href:"/bookings/new",className:"inline-flex items-center gap-2 rounded-full bg-sky-500 px-4 py-2 font-semibold text-white shadow-sm transition hover:bg-sky-600",children:[(0,n.jsx)("span",{"aria-hidden":"true",children:"＋"}),"Neue Buchung starten"]})]}),!m&&(0,n.jsxs)("div",{className:"rounded-3xl border border-dashed border-sky-200 bg-sky-50/60 p-8 text-center text-slate-600",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-slate-900",children:"Noch keine Reservierungen"}),(0,n.jsx)("p",{className:"mt-2 text-sm",children:"Starte \xfcber den Button oben eine unverbindliche Buchung oder markiere R\xe4ume als Favorit, um sie schneller wiederzufinden."})]}),Object.entries(d).map(e=>{let[s,r]=e;return(0,n.jsxs)("section",{className:"space-y-4 rounded-3xl border border-slate-200 bg-white p-5 shadow-sm sm:p-6",children:[(0,n.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:new Date(r[0].startDateTime).toLocaleDateString("de-DE",{weekday:"long",day:"numeric",month:"long"})}),(0,n.jsx)("p",{className:"text-sm text-slate-500",children:"Aktive Reservierungen f\xfcr diesen Tag."})]}),(0,n.jsxs)("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:[r.length," Buchung",1===r.length?"":"en"]})]}),(0,n.jsx)("div",{className:"grid gap-3",children:r.map(e=>(0,n.jsxs)("article",{className:"flex flex-col gap-4 rounded-2xl border border-slate-200 bg-slate-50/70 p-4 text-sm text-slate-600 shadow-inner sm:flex-row sm:items-center sm:justify-between",children:[(0,n.jsxs)("div",{className:"space-y-1",children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:e.roomName}),(0,n.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:e.category}),(0,n.jsx)("p",{children:o(e.startDateTime,e.endDateTime)}),(0,n.jsx)("span",{className:"inline-flex w-fit items-center rounded-full bg-sky-100 px-3 py-1 text-xs font-semibold text-sky-700",children:e.status})]}),(0,n.jsxs)("div",{className:"flex flex-col items-start gap-2 sm:items-end",children:[(0,n.jsxs)(i(),{href:"/rooms/".concat(e.roomId),className:"inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-3 py-1 text-xs font-semibold text-slate-600 transition hover:border-sky-200 hover:text-sky-700",children:["Raumdetails",(0,n.jsx)("span",{"aria-hidden":"true",children:"→"})]}),(0,n.jsx)("button",{type:"button",onClick:()=>t(e.id),className:"inline-flex items-center gap-2 rounded-full border border-rose-200 bg-rose-50 px-3 py-1 text-xs font-semibold text-rose-600 transition hover:border-rose-300 hover:text-rose-700",children:"Buchung stornieren"})]})]},e.id))})]},s)}),a.length>0&&(0,n.jsxs)("section",{className:"space-y-4 rounded-3xl border border-slate-200 bg-white p-5 shadow-sm sm:p-6",children:[(0,n.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-slate-900",children:"Vergangene Buchungen"}),(0,n.jsx)("p",{className:"text-sm text-slate-500",children:"Archiv deiner abgeschlossenen Reservierungen."})]}),(0,n.jsxs)("span",{className:"text-xs font-medium uppercase tracking-wide text-slate-400",children:[a.length," Buchung",1===a.length?"":"en"]})]}),(0,n.jsx)("div",{className:"grid gap-3 text-sm text-slate-600",children:a.map(e=>(0,n.jsxs)("div",{className:"flex flex-col gap-2 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm font-semibold text-slate-900",children:e.roomName}),(0,n.jsx)("p",{className:"text-xs uppercase tracking-wide text-slate-500",children:e.category}),(0,n.jsx)("p",{children:o(e.startDateTime,e.endDateTime)})]}),(0,n.jsx)("span",{className:"inline-flex items-center rounded-full bg-slate-200 px-3 py-1 text-xs font-semibold text-slate-600",children:"Abgeschlossen"})]},"past-".concat(e.id)))})]})]})}},2708:(e,t,s)=>{"use strict";s.d(t,{dp:()=>d,lK:()=>o});var n=s(5155),r=s(2115);let a=(0,r.createContext)(null),i=[7,3,11],l=()=>[{id:1,roomId:7,roomName:"Gruppenraum B",category:"Gruppenr\xe4ume",dayOffset:0,hour:13,minute:30,durationMinutes:90,status:"Best\xe4tigt",notes:"Projektbesprechung mit dem Tutorium."},{id:2,roomId:3,roomName:"Lesesaal 3",category:"Leses\xe4le",dayOffset:1,hour:9,minute:0,durationMinutes:120,status:"Option",notes:"Pr\xfcfungsvorbereitung Informatik."},{id:3,roomId:11,roomName:"Seitenbank 1",category:"Seitenb\xe4nke",dayOffset:-1,hour:18,minute:0,durationMinutes:60,status:"Abgeschlossen",notes:"Konzentrationsphase vor dem Vortrag."}].map(e=>{let t=new Date;t.setHours(0,0,0,0),t.setDate(t.getDate()+e.dayOffset),t.setHours(e.hour,e.minute,0,0);let s=new Date(t.getTime()+60*e.durationMinutes*1e3);return{id:e.id,roomId:e.roomId,roomName:e.roomName,category:e.category,startDateTime:t.toISOString(),endDateTime:s.toISOString(),status:e.status,notes:e.notes}});function o(e){let{children:t}=e,[s,o]=(0,r.useState)(i),[d,m]=(0,r.useState)(l),c=(0,r.useCallback)(e=>{o(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),x=(0,r.useCallback)(e=>{m(t=>t.filter(t=>t.id!==e))},[]),u=(0,r.useMemo)(()=>({favorites:s,toggleFavorite:c,bookings:d,setBookings:m,cancelBooking:x}),[s,c,d,m,x]);return(0,n.jsx)(a.Provider,{value:u,children:t})}function d(){let e=(0,r.useContext)(a);if(!e)throw Error("useAppData must be used within an AppDataContext provider");return e}},4389:(e,t,s)=>{Promise.resolve().then(s.bind(s,2664))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=4389)),_N_E=e.O()}]);